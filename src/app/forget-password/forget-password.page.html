<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button menu="m1" slot="start"></ion-menu-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <div class="backImages" *ngIf="isReset" >
        <ion-grid class="topMargin">
            <ion-row align="center" class="topMargin">
                <ion-col size="4" offset="4" align="center">
                    <ion-img src="/assets/img/success.png"></ion-img>
                    <ion-label color="primary" class="bigText">C'est Bon</ion-label>
                </ion-col>
            </ion-row>
            <ion-row align="center" class="topMargin">
                <ion-col>
                  Un Email est envoyé à votre Adresse Email afin de reinitialiser votre mot de passe
                </ion-col>
            </ion-row>

            <ion-row class="topMargin" align="center">
                <ion-col>
                    <ion-item class="textBold">
                        <ion-button fill="clear" (click)="onGoToLogin()">Login
                            <ion-icon name="arrow"></ion-icon>
                        </ion-button>
                    </ion-item>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>

        <form [formGroup]="form">
            <ion-grid align="center" style="margin-top: 15%" *ngIf="!isReset">
                <ion-row class="topMargin">

                    <ion-col size="2" offset="5">
                        <ion-icon size="large" name="eye-off-outline"></ion-icon>
                    </ion-col>
                </ion-row>
                <ion-row class="topMargin">
                    <ion-col size-sm="8" offset-sm="2" size-md="6" offset-md="3" size-lg="4" offset-lg="4">
                        <ion-label>
                            <ion-text class="bigText">
                                reinitialisation de mot de passe
                            </ion-text>
                        </ion-label>
                    </ion-col>
                </ion-row>

                <ion-row class="topMargin">
                    <ion-col size-sm="8" offset-sm="2" size-md="6" offset-md="3" size-lg="4" offset-lg="4">
                        <ion-list>
                            <ion-item>
                                <ion-label class="font-weight-bold" position="floating">
                                    Email
                                </ion-label>
                                <ion-input
                                        type="email"
                                        formControlName="username"
                                        class="font-weight-bold">
                                </ion-input>
                                <div *ngIf="(form.controls['username'].errors && form.controls['username'].touched)">
                                    <ion-text class="smallText" color="danger"> Email requis</ion-text>
                                </div>
                            </ion-item>
                            <ion-item>
                                <ion-label class="font-weight-bold" position="floating">
                                    Nouveau Mot de passe
                                </ion-label>
                                <ion-input
                                        formControlName="password"
                                        type="password">
                                </ion-input>
                                <div *ngIf="(form.controls['password'].errors && form.controls['password'].touched)">
                                    <ion-text class="smallText" color="danger">6 caractères minimum</ion-text>
                                </div>
                            </ion-item>

                            <ion-item>
                                <ion-label class="font-weight-bold" position="floating">
                                    saisir à nouveau le mot de passe
                                </ion-label>
                                <ion-input
                                        formControlName="repassword"
                                        type="password">
                                </ion-input>
                                <div *ngIf="form.errors?.mismatch && (form.controls['repassword'].dirty && form.controls['repassword'].touched)">
                                    <ion-text class="smallText" color="danger">ne correspond pas a votre mot de passe
                                    </ion-text>
                                </div>
                            </ion-item>
                            </ion-list>
                    </ion-col>
                </ion-row>
                <ion-row class="topMargin">

                    <ion-col size-sm="8" offset-sm="2" size-md="6" offset-md="3" size-lg="4" offset-lg="4">
                        <ion-button (click)="onAction()"
                                    [disabled]=!form.valid
                                    class="font-weight-bold"
                                    color="primary"
                                    expand="block">
                           Reinitialiser mon mot de passe
                        </ion-button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
</ion-content>
